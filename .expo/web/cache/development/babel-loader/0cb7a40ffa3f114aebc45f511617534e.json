{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/turjoy/Desktop/Oil project/screens/HomeScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport * as clientActions from \"../store/actions/clients\";\nimport Clients from \"../components/Clients\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport Colors from \"../constants/Colors\";\nimport filter from \"lodash.filter\";\nimport { Picker } from \"@react-native-picker/picker\";\n\nvar HomeScreen = function HomeScreen(props) {\n  var users = useSelector(function (state) {\n    return state.clients.currentClients;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      modalVisible = _useState4[0],\n      setModalVisible = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      query = _useState6[0],\n      setQuery = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      data = _useState8[0],\n      setData = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      fullData = _useState10[0],\n      setFullData = _useState10[1];\n\n  var _useState11 = useState(true),\n      _useState12 = _slicedToArray(_useState11, 2),\n      AZ = _useState12[0],\n      setAZ = _useState12[1];\n\n  var _useState13 = useState(true),\n      _useState14 = _slicedToArray(_useState13, 2),\n      dateSort = _useState14[0],\n      setDateSort = _useState14[1];\n\n  var _useState15 = useState(null),\n      _useState16 = _slicedToArray(_useState15, 2),\n      id = _useState16[0],\n      setId = _useState16[1];\n\n  var _useState17 = useState(null),\n      _useState18 = _slicedToArray(_useState17, 2),\n      userName = _useState18[0],\n      setUserName = _useState18[1];\n\n  var _useState19 = useState(null),\n      _useState20 = _slicedToArray(_useState19, 2),\n      age = _useState20[0],\n      setAge = _useState20[1];\n\n  var _useState21 = useState(null),\n      _useState22 = _slicedToArray(_useState21, 2),\n      phoneNumber = _useState22[0],\n      setPhoneNumber = _useState22[1];\n\n  var _useState23 = useState(null),\n      _useState24 = _slicedToArray(_useState23, 2),\n      companyName = _useState24[0],\n      setCompanyName = _useState24[1];\n\n  var _useState25 = useState(null),\n      _useState26 = _slicedToArray(_useState25, 2),\n      dateJoined = _useState26[0],\n      setDateJoined = _useState26[1];\n\n  var _useState27 = useState(null),\n      _useState28 = _slicedToArray(_useState27, 2),\n      address = _useState28[0],\n      setAddress = _useState28[1];\n\n  var _useState29 = useState(null),\n      _useState30 = _slicedToArray(_useState29, 2),\n      activity = _useState30[0],\n      setActivity = _useState30[1];\n\n  var _useState31 = useState(false),\n      _useState32 = _slicedToArray(_useState31, 2),\n      newUser = _useState32[0],\n      setNewUser = _useState32[1];\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    setIsLoading(true);\n    dispatch(clientActions.fetchClients()).then(function () {\n      setIsLoading(false);\n    });\n  }, [dispatch]);\n  useEffect(function () {\n    setData(users);\n    setFullData(users);\n  }, [users]);\n  var submitHandler = useCallback(function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n\n            if (!newUser) {\n              _context.next = 6;\n              break;\n            }\n\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(dispatch(usersActions.createUser(userName, age, address, activity)));\n\n          case 4:\n            _context.next = 8;\n            break;\n\n          case 6:\n            _context.next = 8;\n            return _regeneratorRuntime.awrap(dispatch(usersActions.updateUser(id, userName, age, address, activity)));\n\n          case 8:\n            setModalVisible(!modalVisible);\n            _context.next = 14;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](0);\n            throw _context.t0;\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 11]], Promise);\n  }, [dispatch, userName, age, address, activity, newUser, id]);\n  useEffect(function () {\n    if (AZ) {\n      setData(users.sort(function (a, b) {\n        return a.clientName.localeCompare(b.clientName);\n      }));\n    } else {\n      setData(users.sort(function (b, a) {\n        return a.clientName.localeCompare(b.clientName);\n      }));\n    }\n  }, [AZ]);\n  useEffect(function () {\n    if (dateSort) {\n      data.sort(function (a, b) {\n        return new Date(b.dateJoined) - new Date(a.dateJoined);\n      });\n    } else {\n      data.sort(function (a, b) {\n        return new Date(a.dateJoined) - new Date(b.dateJoined);\n      });\n    }\n  }, [dateSort]);\n  useEffect(function () {\n    props.navigation.setOptions({\n      headerRight: function headerRight() {\n        return React.createElement(Ionicons.Button, {\n          name: \"person-add-outline\",\n          backgroundColor: Colors.primary,\n          color: Platform.OS === \"android\" ? \"white\" : Colors.primary,\n          size: 28,\n          onPress: function onPress() {\n            setNewUser(true);\n            setModalVisible(true);\n            setUserName(null);\n            setAge(null);\n            setAddress(null);\n            setActivity(null);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 9\n          }\n        });\n      }\n    });\n  }, []);\n\n  if (isLoading) {\n    return React.createElement(View, {\n      style: {\n        marginTop: 100\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }\n    }, React.createElement(ActivityIndicator, {\n      size: \"large\",\n      color: \"black\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  if (modalVisible) {\n    return React.createElement(View, {\n      style: styles.centeredView,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 7\n      }\n    }, React.createElement(Modal, {\n      animationType: \"slide\",\n      transparent: true,\n      visible: modalVisible,\n      onRequestClose: function onRequestClose() {\n        Alert.alert(\"Modal has been closed.\");\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: styles.centeredView,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }\n    }, React.createElement(View, {\n      style: styles.modalView,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: styles.form,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 15\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }, \"User Name\"), React.createElement(TextInput, {\n      placeholder: \"User Name\",\n      style: styles.input,\n      errorText: \"Please enter a valid name!\",\n      keyboardType: \"default\",\n      returnKeyType: \"next\",\n      defaultValue: userName,\n      onChangeText: function onChangeText(e) {\n        setUserName(e);\n      },\n      required: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }\n    }), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, \"Age\"), React.createElement(TextInput, {\n      placeholder: \"Age\",\n      style: styles.input,\n      errorText: \"Please enter a valid address!\",\n      keyboardType: \"decimal-pad\",\n      returnKeyType: \"next\",\n      defaultValue: age,\n      onChangeText: function onChangeText(e) {\n        setAge(e);\n      },\n      required: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }\n    }), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }\n    }, \"Address\"), React.createElement(TextInput, {\n      placeholder: \"Address\",\n      style: styles.input,\n      errorText: \"Please enter a valid address!\",\n      keyboardType: \"default\",\n      returnKeyType: \"next\",\n      defaultValue: address,\n      onChangeText: function onChangeText(e) {\n        setAddress(e);\n      },\n      required: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }\n    }), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }\n    }, \"Fitness Activity\"), React.createElement(Picker, {\n      style: styles.picker,\n      selectedValue: activity,\n      onValueChange: function onValueChange(itemValue, itemIndex) {\n        setActivity(itemValue);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }\n    }, React.createElement(Picker.Item, {\n      label: \"Yoga\",\n      value: \"Yoga\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 19\n      }\n    }), React.createElement(Picker.Item, {\n      label: \"Aerobics\",\n      value: \"Aerobics\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 19\n      }\n    })), React.createElement(Button, {\n      title: \"Submit\",\n      onPress: submitHandler,\n      color: \"green\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    })), React.createElement(View, {\n      style: {\n        flexDirection: \"row\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 15\n      }\n    }, React.createElement(TouchableHighlight, {\n      style: _objectSpread(_objectSpread({}, styles.openButton), {}, {\n        backgroundColor: \"green\"\n      }),\n      onPress: function onPress() {\n        setModalVisible(!modalVisible);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: styles.textStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 19\n      }\n    }, \"Cancel\")))))));\n  }\n\n  var handleSearch = function handleSearch(text) {\n    var formattedQuery = text.toLowerCase();\n    var filteredData = filter(fullData, function (users) {\n      return contains(users, formattedQuery);\n    });\n    setData(filteredData);\n    setQuery(text);\n  };\n\n  var contains = function contains(_ref, query) {\n    var clientName = _ref.clientName,\n        address = _ref.address;\n\n    if (clientName.toLowerCase().includes(query) || address.toLowerCase().includes(query)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      marginHorizontal: 30\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }\n  }, React.createElement(Button, {\n    color: Colors.primary,\n    title: \"Sort Alphabetically\",\n    onPress: function onPress() {\n      return setAZ(!AZ);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 9\n    }\n  }), React.createElement(Button, {\n    color: Colors.primary,\n    title: \"Sort by Date\",\n    onPress: function onPress() {\n      setDateSort(!dateSort);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 9\n    }\n  })), React.createElement(TextInput, {\n    autoCapitalize: \"none\",\n    autoCorrect: false,\n    clearButtonMode: \"always\",\n    value: query,\n    onChangeText: function onChangeText(queryText) {\n      return handleSearch(queryText);\n    },\n    placeholder: \"Search Clients\",\n    style: {\n      backgroundColor: Colors.input,\n      textAlign: \"center\",\n      marginHorizontal: 50,\n      marginTop: 20,\n      borderRadius: 5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }\n  }), React.createElement(FlatList, {\n    data: data,\n    renderItem: function renderItem(itemData) {\n      return React.createElement(Clients, {\n        clientName: itemData.item.clientName,\n        phoneNumber: itemData.item.phoneNumber,\n        companyName: itemData.item.companyName,\n        address: itemData.item.address,\n        dateJoined: itemData.item.readableDate,\n        onSelect: function onSelect() {\n          console.log(\"ok\");\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }\n      });\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport var screenOptions = function screenOptions(navData) {\n  return {\n    headerTitle: \"Clients\",\n    headerLeft: function headerLeft() {\n      return React.createElement(Ionicons.Button, {\n        name: Platform.OS === \"android\" ? \"md-menu\" : \"ios-menu\",\n        backgroundColor: Colors.primary,\n        color: Platform.OS === \"android\" ? \"white\" : Colors.primary,\n        size: 28,\n        onPress: function onPress() {\n          return navData.navigation.toggleDrawer();\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 7\n        }\n      });\n    }\n  };\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: StatusBar.currentHeight || 0\n  },\n  item: {\n    backgroundColor: \"#f9c2ff\",\n    padding: 20,\n    marginVertical: 8,\n    marginHorizontal: 16\n  },\n  title: {\n    fontSize: 32\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 35,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  openButton: {\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2,\n    marginHorizontal: 5\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  },\n  form: {\n    margin: 20,\n    flex: 1,\n    marginTop: 40,\n    justifyContent: \"center\"\n  },\n  centered: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  input: {\n    backgroundColor: \"#e0e0e0\",\n    paddingHorizontal: 5,\n    marginTop: 10,\n    marginBottom: 20,\n    borderRadius: 5\n  },\n  picker: {\n    width: 180,\n    height: 50,\n    marginBottom: 30\n  }\n});\nexport default HomeScreen;","map":{"version":3,"sources":["/home/turjoy/Desktop/Oil project/screens/HomeScreen.js"],"names":["React","useEffect","useState","useCallback","useSelector","useDispatch","clientActions","Clients","Ionicons","Colors","filter","Picker","HomeScreen","props","users","state","clients","currentClients","isLoading","setIsLoading","modalVisible","setModalVisible","query","setQuery","data","setData","fullData","setFullData","AZ","setAZ","dateSort","setDateSort","id","setId","userName","setUserName","age","setAge","phoneNumber","setPhoneNumber","companyName","setCompanyName","dateJoined","setDateJoined","address","setAddress","activity","setActivity","newUser","setNewUser","dispatch","fetchClients","then","submitHandler","usersActions","createUser","updateUser","sort","a","b","clientName","localeCompare","Date","navigation","setOptions","headerRight","primary","Platform","OS","marginTop","styles","centeredView","Alert","alert","modalView","form","input","e","picker","itemValue","itemIndex","flexDirection","openButton","backgroundColor","textStyle","handleSearch","text","formattedQuery","toLowerCase","filteredData","contains","includes","container","alignItems","justifyContent","marginHorizontal","queryText","textAlign","borderRadius","itemData","item","readableDate","console","log","screenOptions","navData","headerTitle","headerLeft","toggleDrawer","StyleSheet","create","flex","StatusBar","currentHeight","padding","marginVertical","title","fontSize","margin","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","color","fontWeight","modalText","marginBottom","centered","paddingHorizontal"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport {\n  Button,\n  Modal,\n  TouchableHighlight,\n  StatusBar,\n  View,\n  Text,\n  FlatList,\n  Alert,\n  ActivityIndicator,\n  SafeAreaView,\n  StyleSheet,\n  Platform,\n  TextInput,\n} from \"react-native\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\n\n// import * as usersActions from \"../store/actions/users\";\nimport * as clientActions from \"../store/actions/clients\";\n\n// import Users from \"../components/Users\";\nimport Clients from \"../components/Clients\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport Colors from \"../constants/Colors\";\nimport filter from \"lodash.filter\";\nimport { Picker } from \"@react-native-picker/picker\";\n\nconst HomeScreen = (props) => {\n  const users = useSelector((state) => state.clients.currentClients);\n  // const users = useSelector((state) => state.users.currentUsers);\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [modalVisible, setModalVisible] = useState(false);\n\n  const [query, setQuery] = useState(\"\");\n  const [data, setData] = useState([]);\n\n  const [fullData, setFullData] = useState([]);\n  const [AZ, setAZ] = useState(true);\n  const [dateSort, setDateSort] = useState(true);\n\n  // const [person, setPerson] = useState({\n  //   userName: \"\",\n  //   age: 0,\n  //   address: \"\",\n  //   activity: \"Yoga\",\n  // });\n\n  const [id, setId] = useState(null);\n  const [userName, setUserName] = useState(null);\n  const [age, setAge] = useState(null);\n\n  const [phoneNumber, setPhoneNumber] = useState(null);\n  const [companyName, setCompanyName] = useState(null);\n  const [dateJoined, setDateJoined] = useState(null);\n\n  const [address, setAddress] = useState(null);\n  const [activity, setActivity] = useState(null);\n\n  const [newUser, setNewUser] = useState(false);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    setIsLoading(true);\n    dispatch(clientActions.fetchClients()).then(() => {\n      setIsLoading(false);\n    });\n  }, [dispatch]);\n\n  useEffect(() => {\n    setData(users);\n    setFullData(users);\n  }, [users]);\n\n  // Submit function\n  const submitHandler = useCallback(async () => {\n    try {\n      if (newUser) {\n        await dispatch(\n          usersActions.createUser(userName, age, address, activity)\n        );\n      } else {\n        await dispatch(\n          usersActions.updateUser(id, userName, age, address, activity)\n        );\n      }\n\n      setModalVisible(!modalVisible);\n    } catch (err) {\n      throw err;\n    }\n  }, [dispatch, userName, age, address, activity, newUser, id]);\n\n  //Sort Alphabetically\n  useEffect(() => {\n    if (AZ) {\n      setData(users.sort((a, b) => a.clientName.localeCompare(b.clientName)));\n    } else {\n      setData(users.sort((b, a) => a.clientName.localeCompare(b.clientName)));\n    }\n  }, [AZ]);\n\n  //Sort by Date\n  useEffect(() => {\n    if (dateSort) {\n      data.sort(function (a, b) {\n        return new Date(b.dateJoined) - new Date(a.dateJoined);\n      });\n    } else {\n      data.sort(function (a, b) {\n        return new Date(a.dateJoined) - new Date(b.dateJoined);\n      });\n    }\n  }, [dateSort]);\n\n  // Add user\n  useEffect(() => {\n    props.navigation.setOptions({\n      headerRight: () => (\n        <Ionicons.Button\n          name=\"person-add-outline\"\n          backgroundColor={Colors.primary}\n          color={Platform.OS === \"android\" ? \"white\" : Colors.primary}\n          size={28}\n          onPress={() => {\n            setNewUser(true);\n            setModalVisible(true);\n            setUserName(null);\n            setAge(null);\n            setAddress(null);\n            setActivity(null);\n          }}\n        />\n      ),\n    });\n  }, []);\n\n  if (isLoading) {\n    return (\n      <View style={{ marginTop: 100 }}>\n        <ActivityIndicator size=\"large\" color=\"black\" />\n      </View>\n    );\n  }\n\n  // Modal display(edit client)\n\n  if (modalVisible) {\n    return (\n      <View style={styles.centeredView}>\n        <Modal\n          animationType=\"slide\"\n          transparent={true}\n          visible={modalVisible}\n          onRequestClose={() => {\n            Alert.alert(\"Modal has been closed.\");\n          }}\n        >\n          {/* Details */}\n          <View style={styles.centeredView}>\n            <View style={styles.modalView}>\n              {/* <Text style={styles.modalText}>{person.userName}</Text>\n              <Text style={styles.modalText}>{person.age}</Text>\n              <Text style={styles.modalText}>{person.address}</Text>\n              <Text style={styles.modalText}>{person.activity}</Text> */}\n\n              <View style={styles.form}>\n                <Text>User Name</Text>\n                <TextInput\n                  placeholder=\"User Name\"\n                  style={styles.input}\n                  errorText=\"Please enter a valid name!\"\n                  keyboardType=\"default\"\n                  returnKeyType=\"next\"\n                  defaultValue={userName}\n                  onChangeText={(e) => {\n                    setUserName(e);\n                  }}\n                  required\n                />\n                <Text>Age</Text>\n\n                <TextInput\n                  placeholder=\"Age\"\n                  style={styles.input}\n                  errorText=\"Please enter a valid address!\"\n                  keyboardType=\"decimal-pad\"\n                  returnKeyType=\"next\"\n                  defaultValue={age}\n                  onChangeText={(e) => {\n                    setAge(e);\n                  }}\n                  required\n                />\n\n                <Text>Address</Text>\n\n                <TextInput\n                  placeholder=\"Address\"\n                  style={styles.input}\n                  errorText=\"Please enter a valid address!\"\n                  keyboardType=\"default\"\n                  returnKeyType=\"next\"\n                  defaultValue={address}\n                  onChangeText={(e) => {\n                    setAddress(e);\n                  }}\n                  required\n                />\n                <Text>Fitness Activity</Text>\n\n                <Picker\n                  style={styles.picker}\n                  selectedValue={activity}\n                  onValueChange={(itemValue, itemIndex) => {\n                    setActivity(itemValue);\n                  }}\n                >\n                  <Picker.Item label=\"Yoga\" value=\"Yoga\" />\n                  <Picker.Item label=\"Aerobics\" value=\"Aerobics\" />\n                </Picker>\n\n                <Button title=\"Submit\" onPress={submitHandler} color=\"green\" />\n              </View>\n\n              <View style={{ flexDirection: \"row\" }}>\n                {/* Cancel Button */}\n                <TouchableHighlight\n                  style={{ ...styles.openButton, backgroundColor: \"green\" }}\n                  onPress={() => {\n                    setModalVisible(!modalVisible);\n                  }}\n                >\n                  <Text style={styles.textStyle}>Cancel</Text>\n                </TouchableHighlight>\n              </View>\n            </View>\n          </View>\n        </Modal>\n      </View>\n    );\n  }\n\n  // Search\n  const handleSearch = (text) => {\n    const formattedQuery = text.toLowerCase();\n    const filteredData = filter(fullData, (users) => {\n      return contains(users, formattedQuery);\n    });\n    setData(filteredData);\n    setQuery(text);\n  };\n\n  const contains = ({ clientName, address }, query) => {\n    if (\n      clientName.toLowerCase().includes(query) ||\n      address.toLowerCase().includes(query)\n    ) {\n      return true;\n    }\n    return false;\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View\n        style={{\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          marginHorizontal: 30,\n        }}\n      >\n        <Button\n          color={Colors.primary}\n          title=\"Sort Alphabetically\"\n          onPress={() => setAZ(!AZ)}\n        />\n\n        <Button\n          color={Colors.primary}\n          title=\"Sort by Date\"\n          onPress={() => {\n            setDateSort(!dateSort);\n            // console.log(\n            //   users.sort((a, b) => a.dateJoined.localeCompare(b.dateJoined))\n            // );\n            // dispatch(cartActions.addToCart(itemData.item));\n          }}\n        />\n      </View>\n      <TextInput\n        autoCapitalize=\"none\"\n        autoCorrect={false}\n        clearButtonMode=\"always\"\n        value={query}\n        onChangeText={(queryText) => handleSearch(queryText)}\n        placeholder=\"Search Clients\"\n        style={{\n          backgroundColor: Colors.input,\n          textAlign: \"center\",\n          marginHorizontal: 50,\n          marginTop: 20,\n          borderRadius: 5,\n        }}\n      />\n      <FlatList\n        data={data}\n        // horizontal\n        renderItem={(itemData) => (\n          <Clients\n            clientName={itemData.item.clientName}\n            phoneNumber={itemData.item.phoneNumber}\n            companyName={itemData.item.companyName}\n            address={itemData.item.address}\n            dateJoined={itemData.item.readableDate}\n            onSelect={() => {\n              console.log(\"ok\");\n              // setModalVisible(true);\n              // setNewUser(false);\n              // setId(itemData.item.id);\n              // setUserName(itemData.item.userName);\n              // setAge(itemData.item.age);\n              // setAddress(itemData.item.address);\n              // setActivity(itemData.item.activity);\n\n              // setPerson({\n              //   userName: itemData.item.userName,\n              //   age: itemData.item.age,\n              //   address: itemData.item.address,\n              //   activity: itemData.item.activity,\n              // });\n            }}\n          ></Clients>\n        )}\n        keyExtractor={(item) => item.id}\n      />\n    </SafeAreaView>\n  );\n};\n\nexport const screenOptions = (navData) => {\n  return {\n    headerTitle: \"Clients\",\n    headerLeft: () => (\n      <Ionicons.Button\n        name={Platform.OS === \"android\" ? \"md-menu\" : \"ios-menu\"}\n        backgroundColor={Colors.primary}\n        color={Platform.OS === \"android\" ? \"white\" : Colors.primary}\n        size={28}\n        onPress={() => navData.navigation.toggleDrawer()}\n      />\n    ),\n    // headerRight: () => (\n    //   <Ionicons.Button\n    //     name=\"person-add-outline\"\n    //     backgroundColor={Colors.primary}\n    //     color={Platform.OS === \"android\" ? \"white\" : Colors.primary}\n    //     size={28}\n    //     onPress={() => {\n    //       setNewUser(true);\n    //       setModalVisible(true);\n    //       setUserName(null);\n    //       setAge(null);\n    //       setAddress(null);\n    //       setActivity(null);\n    //     }}\n    //   />\n    // ),\n  };\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: StatusBar.currentHeight || 0,\n  },\n  item: {\n    backgroundColor: \"#f9c2ff\",\n    padding: 20,\n    marginVertical: 8,\n    marginHorizontal: 16,\n  },\n  title: {\n    fontSize: 32,\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22,\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 35,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  openButton: {\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2,\n    marginHorizontal: 5,\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\",\n  },\n  form: {\n    margin: 20,\n    flex: 1,\n    // alignItems: 'center',\n    marginTop: 40,\n    justifyContent: \"center\",\n  },\n  centered: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  input: {\n    backgroundColor: \"#e0e0e0\",\n    // textAlign: 'center',\n    paddingHorizontal: 5,\n    marginTop: 10,\n    marginBottom: 20,\n    borderRadius: 5,\n  },\n\n  picker: {\n    width: 180,\n    height: 50,\n    marginBottom: 30,\n  },\n});\n\nexport default HomeScreen;\n"]},"metadata":{},"sourceType":"module"}